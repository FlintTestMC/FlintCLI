{
    "name": "lever_powers_adjacent_block",
    "description": "Verify that a lever can be placed and powers an adjacent block when activated",
    "tags": ["redstone"],
    "dependencies": ["basic_block_placement"],
    "setup": {
        "cleanup": {
            "region": [[5, 95, 5], [15, 105, 15]]
        }
    },
    "timeline": [
        {
            "at": 0,
            "do": "place",
            "pos": [10, 100, 10],
            "block": {"id": "minecraft:stone"}
        },
        {
            "at": 1,
            "do": "place",
            "pos": [10, 101, 10],
            "block": {"id": "minecraft:lever", "properties": {"powered": "false", "face": "floor", "facing": "north"}}
        },
        {
            "at": 2,
            "do": "assert",
            "checks": [
                {"pos": [10, 101, 10], "is": {"id": "minecraft:lever"}}
            ]
        },
        {
            "at": 2,
            "do": "assert_state",
            "pos": [10, 101, 10],
            "state": "powered",
            "values": ["false"]
        },
        {
            "at": 3,
            "do": "place",
            "pos": [10, 101, 10],
            "block": {"id": "minecraft:lever", "properties": {"powered": "true", "face": "floor", "facing": "north"}}
        },
        {
            "at": 5,
            "do": "assert_state",
            "pos": [10, 101, 10],
            "state": "powered",
            "values": ["true"]
        }
    ]
}
